# Инструкция по локализации приложения на разные языки

#### Поиск из исходного кода
Нам нужно найти все вызовы системы трансляции.
Правила поиска описаны в sphere/babel.cfg
Соберем из файлов все сообщения в файл collect_messages.pot
```
pybabel extract -F sphere/babel.cfg -k _ -o collected_messages.pot .
```

#### Добавить новый язык
После того, как мы нашли все фразы, которые были в коде запрошены к переводу, <br>
нужно создать структуру для перевода в конкретный язык. <br>
Папка должна находится на одном уровне с папкой templates одного из приложений. <br>
Можно хранить фразы перевода каждого приложений по отдельности, в своем приложении. <br>
Но это приводит к тому, что одна фраза, которая встречается в разных приложениях, br>
должна быть переведена несколько раз (для каждого приложения в отдельности). <br>
Проще выбрать одно приложение и хранить переводы в нем.
```
pybabel init -i collected_messages.pot -d sphere/translations -l ru
```

#### Обновить переводы
В процессе работы, всегда возникают новые фразы для перевода. <br>
Нужно снова найти фразы для перевода и объединить то, что мы нашли с тем, что уже есть
```
pybabel extract -F sphere/babel.cfg -k _ -o collected_messages.pot .
pybabel update -i collected_messages.pot -d sphere/translations
```

#### Компиляция
После того, как мы собрали и заполнили переводы на разные языки, это нужно скомпилировать
```
pybabel compile -d sphere/translations
```
